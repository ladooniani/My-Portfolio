/*
Project:  terbinari.tech website code 
Written by Lado Oniani github.com/ladooniani
Copyright (C) 2021 Lado Oniani, TAI Lab. All Rights Reserved    
*/

/************************************************************* Text */


var videoCov1 = '<br><br><div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/vxVBtnA5of8?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';
var videoCov2 = '<br><br><div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/xZZ-RWoMQD4?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';
var videoCov3 = '<div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/tSrj2ZdIo80?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><br>';
var videoCov4 = '<br><br><div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/f801_bk9htc?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';
var videoCov5 = '<br><br><div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/m1xcjhqGcHw?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';
var videoCov6 = '<br><br><div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/oKQQEKq7pdc?rel=0 " title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div><br>';
var videoCov7 = '<br><br><div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/H2O3pTNejW0?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';
var videoCov8 = '<br><br><div class="embed-responsive embed-responsive-16by9"> <iframe width="560" height="315" src="https://www.youtube.com/embed/UsEniQiI9Xk?rel=0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>';
var notereq, browser; 
var hello = 'Hello, ';
var confMess = '<br/><br/> Thank you for visit terbnari.tech <br/><br/> This automatic notification confirms that your message has been received and will be examined according to context, after that you will get answer within a few working days. <br/><br/> Best regards <br/><br/> Toy Artificial Intelligence <br/> Research, innovation and technology development <br/> Intelligent systems and robotics laboratory'; 
var a0 = 'RESEARCH AND TECHNOLOGY DEVELOPMENT<br><br>';
var research_title = '● Research';
var b0 = '<br><br><b><u>Overview</u></b><br><br>';
var b1 = '&nbsp; Operating program interface interacts with training and conversation slot, represents dialog processing models in text-to-text, text-to-voice, or voice-to-voice modes and robot control methods.<br><br>&nbsp;Mechanical response provides tracking orientation and eye contact with user/interlocutor, as well as mouth device synchronization with speech motility events.'; 
var descriptproto = b0 + b1; // + b2;
var descript_proto_title = '● Overview';
var c0 = 'APPLICATION SOFTWARE AND ROBOT DEVICE<br><br>';
var c1 = '&nbsp; Terbinari operating program represents interactive training and conversation model, natural language processing, understanding and generation syntactic and semantic analysis/matching logic algorithms, and controller operating methods.'+videoCov5+'<br> &nbsp;';
var c2 = '<br>&nbsp; Artificial conversational entity performs input/output question-answering, learning, spoken dialog system with multi-function chat-bot interface and anthropomorphic humanoid robot Control Bot Mechanism animatronics operator. The cervical motility device implements mouth speech events motion and eyes/head tracking contact and response under facial detection/recognition process of computer vision.';                
var c3 = '<br><br>&nbsp; The bot operates individual unique memory content updated by interlocutor input in frames of the system legal code. The answer defines output for dialogue as a tool of reflective analysis by returning efferent recall from human-like machine cognitive function. Embodies autonomous companion simulator as trainable virtual teaching assistant and agent of compensatory intercourse for various interactive communication tasks.' + videoCov2; 
var appsoft_robotdevice = c1 + c2 + c3;
var appsoft_robotdevice_title = '● Software and device';
var video_session_txt = "&nbsp;The following video session represents interaction with Terbinari operating program artificial conversational entity training and dialogue model I/O QA system semantic processing algorithms with chat-bot interface and prototype humanoid robot CBM (Control Bot Mechanism) device.";
var overview_descript = video_session_txt + descriptproto;
var videoSession_title = 'Terbinari CBM conversations';
var lab_title = 'Toy Artificial Intelligence <br>Research, innovation and technology development <br>Intelligent systems and robotics laboratory <br>'; 
var ritd = 'Research, innovation and technology development'; 
var isrb = 'Intelligent systems and robotics laboratory'; 
var terbinari = 'T e r b i n a r i';
var cbm = 'C B M';
var operating_program = 'Operating program';
var cbm_subtitle = 'Control Bot Mechanism';
var terb_cbm = 'Terbinari CBM';
var web_assist = 'Web Assistant';
var contact_link = 'Contact';
var support_title = '<b>Support project</b>'.fontsize(5);; 
var donationBtn = '<form action="https://www.paypal.com/donate" method="post" target="_top"><input type="hidden" name="hosted_button_id" value="GRGH6SL9EL72U" /><input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_SM.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" /></form>';
var supportTxt = support_title + '<br><br>Your donation will help expand independent research workflow, improve the laboratory environment, and speed up the conceptual strategy process, which leads to more involved research in frames of related technology, forming an educational platform for creative/intellectual collaboration and search for other references.<br><br>To support the project follow the donation link:<br><br>'+donationBtn+'<br>To get updates from research workflow, please follow us on social networks and subscribe to <a target="_blank" class="tlink2" href="https://www.youtube.com/channel/UC0Z161RgR5KpwPLvEDzkk9Q?view_as=subscriber">YouTube</a> channel';
var logo_name = 'T A I';
var scTechEngiTit = '<u>Research and development</u>';
var ScTechEngine = '&nbsp;"Toy Artificial Intelligence" laboratory is founded as a non-profit scientific and engineering organization. Operates on an independent creative platform of experimental research in the fields of intelligent systems and mechanics, involves such areas as computational logic, cognitive science, mechanical design/engineering, and industrial/artistic design.<br><br>Implementation startup was started in 2016 with a multidisciplinary engineering approach, based on computing techniques in computational linguistics, automatic natural language processing, understanding and generation, the machine and robot learning, computer vision, and mechatronics concepts of inventor <a target="_blank" class="tlink" style="color:black"  href="https://www.linkedin.com/in/lado-oniani/">Lado Oniani</a>.<br><br>&nbsp;The development aims to create and investigate synthetic entity architecture and behavior, information processing algorithms, and operation control methods to design building blocks of learning/dialogue contextual association system, integrated with anthropomorphic humanoid and bio-inspired robotics architecture.<br><br>' + videoCov3 + 'Invent custom assistive educational, therapeutic, social and humanitarian, interactive and robotic solution prototype, adaptable for specialized use with modeling and simulation conversational setup via a human-machine interface, behavior observation, study, development, optimization, and accumulation potentially derivative experiment.';
var proces = '&nbsp;The training and conversation model is close to the natural way of receiving information, asking for the question and answering, looking or requesting for the answer, filling memory with user/teacher interlocutor input, generating dialogue, following context, and content-based meaning.'+ videoCov4 + '<br><br>&nbsp;Synthetic entity able to learn, interact and deepening abstraction by inherent characteristics as functionally surrounded void, that does not knows anything by default, able receive and use information, become perceptive carrier to reflect and inference informational knowledge in the natural way of dynamic conversation, prescribable for such tasks as the assistance of topical training, autism educational/therapy exercise, as well psycho-linguistics and synthetic psychology human-robot interaction experiment, or any other specific usage with a requirement of creating memory content with dialog model contextual scenario performance.' + videoCov8; 
var functional = '&nbsp;Text analysis and operation control algorithms with multi-function chat-bot interface and head/eyes/mouth Control Bot Mechanism robot device with position/coordinate step receiver controller.<br><br>&nbsp; • Learn from communication and talk to the interlocutor, answer and ask with memory adding/editing option, providing functions control built-in conversation interface in frames of system legal code filter, receive and react to action commands by attached request.<br><br>&nbsp; • Operate as topic teacher e.g. with "astronomy" appeal, question contexts, and answer output. <br>  <br>&nbsp; • Support conversation in text-to-text, text-to-voice, speech-to-voice with input pronunciation type chats and voice-to-voice speech recognition mode, operate in open training and close testing memory state, and speak with mouth lips viseme motility event.<br><br>&nbsp; • See – detect, recognize introduced person, a track with eye contact and head orientation following interlocutor position, blinking eyelids. '+videoCov7+'<br><br>&nbsp; Desktop application software installation provides access to chat-bot terminal and 6V CBM robot controller device with USB serial port connection, going through registration in Unit Network user profile access to local and server-based memory storage with using of Microsoft OS speech references and available system display language.' +videoCov6+'<br> &nbsp;<u><b>Prototype application compatibility and usage</b></u><br><br>&nbsp;Particular Terbinari software implementation developed on Microsoft Windows OS platform with using of system speech synthesis/recognition references and external CV library output.<br>';  
var amina = '<div id="container" class="inline" ></div>';
var segdes = amina + '&nbsp;<a href="#softdev" class="tlink"><u>Terbinari (Operating program)</u></a><p class="deses"><br>&nbsp;&nbsp;&nbsp;&nbsp; • Training and conversation model<br>&nbsp;&nbsp;&nbsp;&nbsp; • Semantic processing algorithms<br>&nbsp;&nbsp;&nbsp;&nbsp; • Controller operating methods</p>' + amina + '&nbsp;<a href="#vid" class="tlink"><u>Tet (Artificial conversational entity)</u></a><br>' + amina + '&nbsp;<a href="#funct" class="tlink"><u>CBM (Control bot mechanism)</u></a> <p class="deses"> <br>&nbsp;&nbsp;&nbsp;&nbsp; • Robot device</p>';
var labBanImg = '<img src="assets/tai-lab.png" class="images"/><br><br> &nbsp;';
var fasfaceImg = '<img src="assets/terbinari-3.jpg" class="images"/><br><br> &nbsp;';
var functTit = '<br><br><b>Functionality</b><br><br>';
var converTit = '<b>Conversations</b><br><br>';
var softDevTit = '<b>Software and device</b><br><br>';
var labresTit = '<b>Research</b><br><br>';
var proTit = '<b>Processing</b><br><br>';
var freeToolsTxt = '<i class="blueTxt"> <b>Free tools is desktop application software subset of small, quick and handy tools with minimal and useful setup of control and functionality, created and used in TAI lab workflow environment.</b> </i><br><br>';
var freeToolsSelector = '<form class="selectForm"> <label class="chooseApp" for="apps"> Choose app:</label> <select class="optSelect" name="apps" id="apps"><option class="selectOpt" value="cilist">⬤ Cilist </option> <option class="selectOpt" value="observer"> ⬤ Observer </option> </select> </form>';
var selectBox =  freeToolsTxt + freeToolsSelector;
var cilistTxt = ' <u><b class="titBold">Cilist</b></u><br><br> "Cilist" desktop application provides processing or raw input text to duplicate-free alphabetical order list and basic element initializers collection types, like List and Dictionary with set of structure configuration options and property preferences setting. <br><br><b>Windows Installer:</b> <br><br> <a id="downloadBtn" target="_self"> <button class="btn" ><i class="fa fa-download"></i> Download</button></a> <br><br> Or download from GitHub <a target="_blank" class="tlink" style="color:blue" href="https://github.com/ladooniani/freetools/releases/tag/1.0.7715.33757">Releases</a> <br><br> <b>How to use:</b> <br>&nbsp;&nbsp;<br><b>1.</b> Download Windows Installer and install "Observer" application on computer <br>&nbsp;&nbsp;<br><b>2.</b> Copy your input text, then in the left <b>Set</b> section click <b>Paste Copy</b> button. To update with a new content, copy and click again. </i><br><br><img src="assets/cilist1.jpg" class="screenshots" id="img5" /> <br><br>&nbsp;&nbsp;<i> Note: This action provides following processing of input text and at the same time, if text is break by newlines, additionally returns copy of <b>concatenate string</b>. To save, paste until your next copy/paste action. </i> <br> &nbsp;&nbsp;<br><b>3.</b> In the right <b>Get</b> section click <b>Copy Words</b> for vertical list:<br> <br> <b class="yellowBox"> word1<br> word2...<br> </b><br><br> <b>4.</b> Click <b>Copy List</b> button to get string of <b>List</b> values array:<br> <br> <code class="codeSnip">"word1", "word2", ...</code> <br>&nbsp;&nbsp;<br><b>5.</b> Click <b>Copy Dict</b> button to get string of <b>Dictionary</b> key and value pairs:<br> <br> <code class="codeSnip">{1,word1}, {2,word2}, ...</code> <br>&nbsp;&nbsp; <br><b>6.</b> In the left <b>Set</b> section check <b>Txt doc YES/no</b> setting to <i>On</i> or <i>Off</i> record and access to text documents with the same results <b>Open Words</b>, <b>Open List</b>, <b>Open Dict</b>, <b>Open Dict newlines</b> and <b>Open raw input concatenate string</b> stored to file in the <b>Project folder</b> directory by path <b class="longPath">C:/Users/User/AppData/Roaming/Tailab/Cilist</b> <br><br><img src="assets/cilist2.jpg" class="screenshots" id="img5" /> &nbsp;&nbsp; <br><b>7.</b> Counter indicates duplicate-free result number of processed words <b class="colStr">W: 10403</b>, word count of raw input <b class="colStr">R: 85292</b>, processing time <b class="colStr">PT: 00:00:02:6</b> and sentence count <b class="colStr">S: 7687</b> with <b>Sentence/Word</b> checked option. <br><br>&nbsp;&nbsp;<i>Note: Click counter indicator to switch processing time with extended format <b class="blueCircle">S</b> seconds, <b class="blueCircle">M</b> milliseconds, <b class="blueCircle">N</b> nanoseconds.</i> <br>&nbsp;&nbsp; <br><b>8.</b> Set number of words you want break by newlines in <b>Dictionary</b> list and click <b>Open Dict newline</b> document with result. <br>&nbsp;&nbsp; <br><b>9.</b> In the left <b>Set</b> section check <b>Index/Value</b> to change key location form left to right:<br> <br> <code class="codeSnip">{word1,1}, {word2,2}, ...</code> <br>&nbsp;&nbsp; <br><b>10.</b> Check <b>Quotes YES/no</b> to put <b>Dictionary</b> values in quotes:<br> <br> <code class="codeSnip">{"word1",1}, {"word2",2}, ...</code> <br>&nbsp;&nbsp; <br><b>11.</b> Check <b>List/List ID</b> to enumerate unique words by count:<br> <br> <b class="yellowBox"> 1. word1<br> 2. word2...<br> </b><br><br> <b>12.</b> Check <b>Sentence/Word</b> to separate content for all types of list by phrases:<br> <br> <code class="codeSnip">"sentence words1", "sentence words2", ...</code> <br>&nbsp;&nbsp; <br><b>13.</b> Check <b>Number YES/no</b> to avoid passing of numbers in lists.<br> <br> &nbsp;&nbsp;<i>Note: Available only with <b>Word/Sentence</b> option. </i> <br>&nbsp;&nbsp; <br><b>14.</b> Check <b>Seq/Alpha</b> to switch sorting from alphabetical order to raw sequence.<br><br> ';
var observerTxt = ' <u><b class="titBold">Observer</b></u><br><br> "Observer" desktop application provides simple wired basic video monitoring (e.g. device process), saving the frame and motion/stillness detection indication. <br><br><b>Windows Installer:</b> <br><br> <a id="downloadBtn" target="_self"> <button class="btn" ><i class="fa fa-download"></i> Download</button></a> <br><br> Or download from GitHub <a target="_blank" class="tlink" style="color:blue" href="https://github.com/ladooniani/freetools/releases/tag/1.0.7714.3286">Releases</a> <br><br> <b>How to use:</b> <br><br><b>1.</b> Download Windows Installer and install "Observer" application on computer <br> &nbsp;&nbsp;<br><b>2.</b> Select your USB video camera device from drop-down list <br><img src="assets/observer-2.jpg" class="screenshots" id="img5" /> <br><br> <b>3.</b> To start monitoring click <b>"On/Off Monitoring"</b> button (To expand screen, maximize window) <br><br><b>4.</b> To save frame, click <b>"Save frame"</b> and <b>"Open Folder"</b> to open images folder directory by path <b class="longPath">C:/Users/User/AppData/Roaming/Tailab/Observer</b> <br><br><img src="assets/observer-1.jpg" class="screenshots" id="img5" /> <br><br> <b>5.</b> To start motion control, click <b>"On/Off Motion"</b> button: <br><br> <b>6.</b> To use tone signals of audio indication, check <b>Beep ON/off</b> <br><br> <b>7.</b> <b class="blueCircle">S</b> Static blue indicates stillness. <b class="yellowCircle">M</b> Motion yellow indicates motion. To switch with tone audio signal for <b class="blueCircle">S</b> and <b class="yellowCircle">M</b> states, turn on <b>Motion </b>and click indicator. <br><br>&nbsp;<i> Note: Video monitoring and motion detection audio indication control of this version are separate processes. </i><br><br> <hr class="contactFormLine"> <br> <i>&nbsp;Program uses <a target="_blank" class="tlink" style="color:blue" href="http://www.aforgenet.com/">AForge.NET</a> library according <a target="_blank" class="tlink" style="color:blue" href="https://www.gnu.org/licenses/gpl-3.0.html">AForge.NET Framework GPL license</a> referring the framework libraries without including of source code into the project or changing of framework sources.<br><br></i> ';

loadFnc();
function loadFnc(){
	scrollOnTop();
	CheckPhoneOrMobileBrowser();
	loadTxt();
	CheckBrowser();
	showHide(1);
}

/************************************************************* Slider */

$(document).ready(function() {

	$('.mobileSlider').flexslider({
		animation: "slide",
		slideshowSpeed: 3000,
		controlNav: false,
		directionNav: true,
		prevText: "&#171;",
		nextText: "&#187;"
	});
	$('.flexslider').flexslider({
		animation: "slide",
		directionNav: false
	});

	$('a[href*=#]:not([href=#])').click(function() {
		if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') || location.hostname == this.hostname) {
			var target = $(this.hash);
			target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
			if ($(window).width() < 768) {
				if (target.length) {
					$('html,body').animate({
						scrollTop: target.offset().top - $('.navbar-header').outerHeight(true) + 1
					}, 369);
					return false;
				}
			}
			else {
				if (target.length) {
					$('html,body').animate({
						scrollTop: target.offset().top - $('.navbar').outerHeight(true) + 1
					}, 369);
					return false;
				}
			}

		}
	});
	
	$('#toTop').click(function() {
		$('html,body').animate({
			scrollTop: 0
		}, 1000);
	});
	
	var timer;
	$(window).bind('scroll',function () {
		clearTimeout(timer);
		timer = setTimeout( refresh , 50 );
	});
	var refresh = function () {
		if ($(window).scrollTop()>100) {
			$(".tagline").fadeTo( "slow", 0 );
		}
		else {
			$(".tagline").fadeTo( "slow", 1 );
		}
	}; 
});

/************************************************************* Desible submit if txtBox not filled */

const inputSelector = ':input[required]:visible';
function checkForm() { 
	var isValidForm = true;
	$(this.form).find(inputSelector).each(function() {
		if (!this.value.trim()) {
			isValidForm = false;
		}
	});
	$(this.form).find('.monitored-btn').prop('disabled', !isValidForm);
	return isValidForm;
}
$('.monitored-btn').closest('form')
.submit(function() {
	return checkForm.apply($(this).find(':input')[0]);
})
.find(inputSelector).keyup(checkForm).keyup();

/************************************************************* Hide nav bar after click */

/*$('.nav-link').on('click',function() { $('.navbar-collapse').collapse('hide'); });*/
function hnb() {
	$('.navbar-collapse').collapse('hide');
}

/************************************************************* Tool tip for password note */

$(document).ready(function(){ $('[data-toggle="tooltip"]').tooltip(); });

/************************************************************* Year */

getDate();
function getDate(){
	var d = new Date();
	var n = d.getFullYear();
	var cpr = 'Copyright &copy; 2016-'+ n +' TAI Lab. All Rights Reserved';
	document.getElementById("cr").innerHTML = cpr;
}

/************************************************************* Scroll on top */

$(document).ready(function(){
	$(this).scrollTop(0);
});

window.onbeforeunload = function () {
	window.scrollTo(0, 0);
}

/*************************************************************  Page func */
/**************************************************************************/
/*************************************************************  Load text */

function loadTxt() {
	var softDevTitSize = softDevTit.fontsize(5);
	var converTitSize = converTit.fontsize(5);
	var functTitSize = functTit.fontsize(5);
	var labresSize = labresTit.fontsize(5);
	var proTitSize = proTit.fontsize(5);
	labTitle.innerHTML = lab_title;
	terbinari_title.innerHTML = terbinari;
	operPro.innerHTML = operating_program;
	cbm_title.innerHTML = cbm; 
	cbmSubtitle.innerHTML = cbm_subtitle;  
	segdecript.innerHTML = segdes;
	softdev.innerHTML = softDevTitSize + c1 + c2 + c3;
	ste.innerHTML =  labresSize + ScTechEngine;
	funct.innerHTML = proTitSize + proces + functTitSize + functional;
	videotxt.innerHTML = converTitSize +  overview_descript + videoMain;
	supportUs.innerHTML = supportTxt;
	contactFromBreakSet(); 
}

function contactFromBreakSet(){ 
	document.getElementById("break").style = 'line-height:3'; 
}

var count = 0;
function linkOpenClose(){
	count++;
	if (count % 2 == 0){
		contact_title = '● Contact';
		research_title = '● Research';
		appsoft_robotdevice_title = '● Software and device';
		descript_proto_title = '● Overview';
	} else {
		contact_title = '';
		research_title = '';
		appsoft_robotdevice_title = '';
		descript_proto_title = '';    
	}
	contactTitle.innerHTML = contact_title;  
	softDevTitle.innerHTML = appsoft_robotdevice_title;
	descriptProtoTitle.innerHTML = descript_proto_title;
	researchTitle.innerHTML = research_title; 
}

/************************************************************* Contact dialog setup*/

function CheckPhoneOrMobileBrowser(){
	if($(window).width()<=1199) { 
    	browser = 0; // Mobile
    } else {
    	browser = 1; // PC 
    } 
}

var isChrome; var isFirefox;
function CheckBrowser(){
	isFirefox = typeof InstallTrigger !== 'undefined';
	isChrome = !!window.chrome && (!!window.chrome.webstore || !!window.chrome.runtime);
}

function MessSendNote(var1){
	document.getElementById("messBtn").value = var1;  
	notereq = 'Send';  
	setTimeout(delayedQuestion, 2000);  
}

function delayedQuestion() {
	document.getElementById("messBtn").value = notereq;  
}

function Clean(){
	document.getElementById("mname").value = ""; 
	document.getElementById("mlname").value = ""; 
	document.getElementById("mess").value = ""; 
}

/************************************************************* Popup login*/

function openForm() {
	document.getElementById("myForm").style.display = "block";
}

function closeForm() {
	document.getElementById("myForm").style.display = "none";
}

/************************************************************* Hide */

function HBnSVd() {
	document.getElementById("topWrap").style.display = "none";
}

function HPgSBn() {
	document.getElementById("topWrap").style.display = "block";
}

function WebAssist(){ 
	document.getElementById("topWrap").style.display = "none";
}

function ContactForm(){
	document.getElementById("topWrap").style.display = "none";                                        
}

function scrollOnTop() {
	window.scrollTo(0, 0);
	var videoBlock = document.getElementById("topWarp");   
	videoBlock.scrollIntoView({
		behavior: "smooth", 
		block: 'start',
	});
} 

$("#contactLink").click(function() {   
	ContactForm();                                               
}); 

$("#container").click(function() {   
	HPgSBn();                                                
}); 

$("#logoName").click(function() {   
	HPgSBn();                                                
}); 

$("#webAssist").click(function() {   
	WebAssist();                                                
}); 

/************************************************************* YouTube video */

var player;

function onYouTubeIframeAPIReady() {
	player = new YT.Player('video-placeholder', {
		width: 600,
		height: 400,
		vq: 'hd1080', 
		videoId: 'uAJOvLjs0D5dGJIcGOwpURkVAGzvHU',
		host: 'https://www.youtube.com',
		playerVars: {
			color: 'white',
			playlist: 'm1xcjhqGcHw,f801_bk9htc,xZZ-RWoMQD4,oKQQEKq7pdc,UsEniQiI9Xk',
			rel: 0, 
			showinfo: 0,             
			ecver: 2
		},
		events: {
			onReady: initialize
		}
	});
}

function initialize(){
	try {
		updateTimerDisplay();     
		updateProgressBar();
		clearInterval(time_update_interval);   
		time_update_interval = setInterval(function () {   
			updateTimerDisplay();
			updateProgressBar();
		}, 1000)
	}
	catch(err) {
	}
}

$('#videoSession').on('click', function () {
	player.pauseVideo();
	player.setPlaybackQuality('hd1080');
});

/************************************************************* Visitor message */

window.addEventListener("DOMContentLoaded", function() {
	var form = document.getElementById("my-form"); 
	function success() {
		form.reset();
		MessSendNote('Message sent'); 
	}
	function error() {
		MessSendNote('Message not sent'); 
	}
	form.addEventListener("submit", function(ev) {
		ev.preventDefault();
		var data = new FormData(form);
		ajax(form.method, form.action, data, success, error);
	});
});

function ajax(method, url, data, success, error) {
	checkInputs();
	if (checkVal == 0){
		var xhr = new XMLHttpRequest();
		xhr.open(method, url);
		xhr.setRequestHeader("Accept", "application/json");
		xhr.onreadystatechange = function() {
			if (xhr.readyState !== XMLHttpRequest.DONE) return;
			if (xhr.status === 200) {
				success(xhr.response, xhr.responseType);
			} else {
				error(xhr.status, xhr.response, xhr.responseType);
			}
		};
		xhr.send(data);
	} 
}  

/************************************************************* Visitor input check */

var checkVal = 0;
function checkInputs(){
	var mlname = $("#mlname").val();
	var mess = $("#mess").val();
	if (mlname == '') {  
		checkVal = 1; 
		MessSendNote('Please enter email');      
	} else if (mess == '') {  
		checkVal = 1;   
		MessSendNote('Please enter message');
	} else {
        /// MessSendNote(contact_txt);  
        var mvi = validate();
        if (mvi == false) {
        	MessSendNote('Invalid email address'); 
        	checkVal = 1; 
        } else if (mvi == true){
        	checkVal = 0; 
        }       
    }
}

/************************************************************* Validate email */

function validate() {
	var email = $("#mlname").val();
	if (validateEmail(email)) { 
		return true;
	} else {
		return false;
	}
}

function validateEmail(email) {
	var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
	return re.test(email);
}

/************************************************************* Resize image */

var cc = 0;
var  img = "";
function resImg(x) { 
	if (x == 1){
		img = document.getElementById("img1"); 
		resSelect(x);
	} else if (x == 2){
		img = document.getElementById("img2");
		resSelect(x);
	} else if (x == 3){
		img = document.getElementById("img3");
		resSelect(x);
	} else if (x == 4){
		img = document.getElementById("img4");
		resSelect(x);
	} else if (x == 5){
		img = document.getElementById("img5");
		resSelect(x);
	} 
} 

var curval = 0;
function resSelect(x){
	if (x != curval){
		cc = 0;
	}
	curval = x;
	cc++;
	if (cc % 2 != 0){
		img.style.transform = "scale(1.2)"; 
		img.style.transition = "transform 0.25s ease"; 
		if (x == 3 || x == 4){
			document.getElementById('img' + x).style.backgroundColor = '#98d6cb';
		}
	} else {
		img.style.transform = "scale(1)"; 
		img.style.transition = "transform 0.25s ease"; 
		if (x == 3 || x == 4){
			document.getElementById('img' + x).style.backgroundColor =  "transparent"; 
		}
	}  
	sqNonAct(x);    
}

function sqNonAct(x){
	if (x == 1){
		imgR2 = document.getElementById("img2"); 
		imgR2.style.transform = "scale(1)"; 
		imgR2.style.transition = "transform 0.25s ease";
		imgR3 = document.getElementById("img3");
		imgR3.style.transform = "scale(1)"; 
		imgR3.style.transition = "transform 0.25s ease";
		imgR4 = document.getElementById("img4");
		imgR4.style.transform = "scale(1)"; 
		imgR4.style.transition = "transform 0.25s ease";
	} 
	if (x == 2){
		imgR1 = document.getElementById("img1"); 
		imgR1.style.transform = "scale(1)"; 
		imgR1.style.transition = "transform 0.25s ease"; 
		imgR3 = document.getElementById("img3");
		imgR3.style.transform = "scale(1)"; 
		imgR3.style.transition = "transform 0.25s ease";
		imgR4 = document.getElementById("img4");
		imgR4.style.transform = "scale(1)"; 
		imgR4.style.transition = "transform 0.25s ease"; 
	} 

	if (x == 3){
		imgR1 = document.getElementById("img1"); 
		imgR1.style.transform = "scale(1)"; 
		imgR1.style.transition = "transform 0.25s ease"; 
		imgR2 = document.getElementById("img2"); 
		imgR2.style.transform = "scale(1)"; 
		imgR2.style.transition = "transform 0.25s ease";
		imgR4 = document.getElementById("img4");
		imgR4.style.transform = "scale(1)"; 
		imgR4.style.transition = "transform 0.25s ease";   
	} 

	if (x == 4){
		imgR1 = document.getElementById("img1"); 
		imgR1.style.transform = "scale(1)"; 
		imgR1.style.transition = "transform 0.25s ease"; 
		imgR2 = document.getElementById("img2"); 
		imgR2.style.transform = "scale(1)"; 
		imgR2.style.transition = "transform 0.25s ease";
		imgR3 = document.getElementById("img3");
		imgR3.style.transform = "scale(1)"; 
		imgR3.style.transition = "transform 0.25s ease"; 
	}       
}

/************************************************************* Download link */

function downloadAppLink(app){
	if(app == 1){
		downloadBtn.setAttribute('href', "http://node.tamunachabashvili.com/data/app/Cilist_1.0.7715.33757.zip");
	} else if (app == 2){
		downloadBtn.setAttribute('href', "http://node.tamunachabashvili.com/data/app/Observer_1.0.7714.4713.zip");
	}	
}

/************************************************************* Resize image */

//$("#b1,#b2,#b3,#b4,#b5,#b6,#b7").click(function() {  
//	loadmain_cond();
//}); 

$("#b0").click(function() {  
	github_cond();
}); 

function github_cond(){	
	window.open("https://github.com/ladooniani/terbinari"); 
}

/* TAI Lab main page */
$("#b1").click(function() {  
	loadmain_cond();
}); 

function loadmain_cond(){
	AttachLink("main");
	showHide(1);
	console.log("TAI Lab");
}

/* Soft and device  */
$("#b2").click(function() {  
	softdev_cond();
}); 

function softdev_cond(){
	AttachLink("softdevice");
	showHide(1);
	console.log("Soft and device");
}

/* Conversation  */
$("#b3").click(function() {  
	conversation_cond();
}); 

function conversation_cond(){
	AttachLink("conversation");
	showHide(1);
	console.log("Conversation");
}

/* Process  */
$("#b4").click(function() {  
	process_cond();
}); 

function process_cond(){
	AttachLink("process");
	showHide(1);
	console.log("Process");
}

/* Research  */
$("#b5").click(function() {  
	research_cond();
}); 

function research_cond(){
	AttachLink("research");
	showHide(1);
	console.log("Research");
}

/*Free tools*/
$("#b6").click(function() {  
	freetool_cond();
}); 

function freetool_cond(){	
	window.open("https://github.com/ladooniani/freetools"); 
}

/*Contact*/
$("#b7").click(function() {  
	contact_cond();
}); 

function contact_cond(){	
	AttachLink("contact");
	showHide(1);
	console.log("Contact");
}

/*Support*/
$("#b8").click(function() {  
	support_cond();
}); 

function support_cond(){	
	AttachLink("support");
	showHide(1);
	console.log("Support project");
}

var stateObj = { foo: "index" };
function AttachLink(tag)
{
	history.pushState(stateObj, "page", "?content=" + tag);
}

var urlParams = new URLSearchParams(window.location.search);
addressLine();
function addressLine(){
	if (urlParams.get("content") == "main") { langValue = 0; loadmain_cond(); }
	else if (urlParams.get("content") == "freetools") { langValue = 1; freetool_cond(); } 
	else if (urlParams.get("content") == "softdevice") { langValue = 1; softdev_cond(); } 
	else if (urlParams.get("content") == "conversation") { langValue = 1; conversation_cond(); } 
	else if (urlParams.get("content") == "process") { langValue = 1; process_cond(); } 
	else if (urlParams.get("content") == "research") { langValue = 1; research_cond(); } 
	else if (urlParams.get("content") == "contact") { langValue = 1; contact_cond(); } 
	else if (urlParams.get("content") == "support") { langValue = 1; support_cond(); } 
}

function showHide(x){
	if (x == 0){
		document.getElementById("bannerHead").style.display = "none"; 
		document.getElementById("contact").style.display = "none"; 
	}else if (x == 1){
		document.getElementById("bannerHead").style.display = "block";
		document.getElementById("contact").style.display = "block"; 
	}if (x == 2){
		document.getElementById("bannerHead").style.display = "none"; 
		document.getElementById("contact").style.display = "none"; 
	}
} 
